
<div lang="he" dir="rtl">
  
# מטלה 3
# חלק ב - הסבר על הקוד
## רכיב mover:
הרכיב הזה הוא העתק הדבק של הקוד מהכיתה, אפילו השארתי את הmoveDown כמו שהוא (אולי זה יעזור לי בפיתוח עתידי).  
שליטה בשחקן, חוקי תנועה, זיהוי איזה משולש נמצא על הקרקע (מהמשולשים שמרכיבים את המשולש) וכו.  
זיהוי מי המשולש שנמצא על הקרקע מתבצע על ידי הזווית שהמשולש הגדול נמצא בה- יש משתנים ששומרים את הזוויות התחלה וסוף של כל משולש קטן. (יש זוויות "מתות" בכוונה).  
## איך זה עובד:
### OnCollisionEnter2D:
כאשר השחקן נוגע בקרקע מתעדכנים הנתונים של:  
- מה הזווית של המשולש ולפי זה יודעים מה הצבע של המשולש למטה.
- מה הצבע של הקרקע (לפי תג).
- ומתאפס הסופר של הקפיצות.


### CanMove:
פונקציה שמחזירה האם המשולש התחתון שווה לצבע של הקרקע, או הקרקע היא ג'וקר (צבע זהב).

### Update:
בודקת (בעזרת הפונקציה הקודמת) האם אפשר לזוז ימינה ושמאלה (ותכלס גם למטה, אבל אין לזה שימוש במשחק כרגע, זה נשאר רק בשביל פיתוחים עתידיים).  
נשים לב עבור קפיצה, אין בדיקה, זה בכוונה, כי לפעמים המשולש פוגע בקרקע עם צד מסויים ואז הוא מסתובב לאט (בגלל פיזיקה וכוחות שעוד פועלים עליו - לא באג), ובגלל שלא קורה עוד collision כי הוא בסה"כ ממשיך את המפגש שהיה, אז הוא לא נותן לזוז (למרות שהצבע הנכון נמצא למטה). כשזה קורה פשוט נלחץ על קפיצה ואז יהיה מפגש נוסף לאחר הקפיצה והכל יסתדר.  

## רכיב Follower:
הרכיב הזה עוקב אחרי אובייקט, הלבשתי אותו על המצלמה בשביל מעקב אחרי השחקן.
העתקתי ממה שעשינו בכיתה.

## רכיב Door:
הרכיב הזה הוא רכיב הניצחון, כאשר נדביק אותו על אובייקט ונוכל להגיד לו מה הוא הKEY שפותח אותו הרכיב הזה מאוד כללי - ניתן לשרשר דלתות אחת לשנייה וליצור שלבים בקלות.

### איך זה עובד:
בוחרים מפתח בinspector וברגע שמצאנו את המפתח יש יכולת לפתוח את הדלת.

## רכיב Key:
רכיב המפתח עובד ביחד עם הדלת, מצמידים למפתח (בinspector) רכיב דלת, והמפתח מעדכן את הדלת כאשר השחקן לקח אותו.

## רכיב BorderScript:
הרכיב הזה מתחיל את המשחק מההתחלה כאשר יש התנגשות עם הגבול.  
שמתי את הגבול מתחת לסצינה, וכאשר השחקן ייפול הוא יפגע בגבול והסצינה תתחיל מחדש.




  </div>
